# DeepDive Engine - å¼€å‘è§„èŒƒæ€»è§ˆ

**ç‰ˆæœ¬ï¼š** 1.0
**æ›´æ–°æ—¥æœŸï¼š** 2025-11-08
**è§„èŒƒçº§åˆ«ï¼š** ğŸ”´ MUST

---

## è§„èŒƒä½“ç³»æ¶æ„

DeepDive Engine é‡‡ç”¨ç³»ç»ŸåŒ–ã€è‡ªåŠ¨åŒ–çš„å¼€å‘è§„èŒƒä½“ç³»ï¼Œç¡®ä¿ä»£ç è´¨é‡ã€å›¢é˜Ÿåä½œæ•ˆç‡å’Œé¡¹ç›®é•¿æœŸå¯ç»´æŠ¤æ€§ã€‚

### æ ¸å¿ƒç†å¿µ

```
âœ… æ ‡å‡†åŒ– - ç»Ÿä¸€çš„ä»£ç é£æ ¼å’Œé¡¹ç›®ç»“æ„
âœ… è‡ªåŠ¨åŒ– - è‡ªåŠ¨æ£€æŸ¥ã€è‡ªåŠ¨æ ¼å¼åŒ–ã€è‡ªåŠ¨éƒ¨ç½²
âœ… æ–‡æ¡£åŒ– - ä»£ç å³æ–‡æ¡£ï¼Œæ–‡æ¡£å³ä»£ç 
âœ… å¯è¿½æº¯ - æ¸…æ™°çš„Gitå†å²å’Œå˜æ›´è®°å½•
âœ… é«˜è´¨é‡ - æµ‹è¯•è¦†ç›–ç‡ > 85%ï¼Œä»£ç å®¡æŸ¥å¿…é¡»
```

---

## è§„èŒƒæ–‡æ¡£ç´¢å¼•

### ğŸ“‹ åŸºç¡€è§„èŒƒ

| ç¼–å· | æ–‡æ¡£                                  | æè¿°                         | çº§åˆ«    |
| ---- | ------------------------------------- | ---------------------------- | ------- |
| 00   | [æ€»è§ˆ](00-overview.md)                | è§„èŒƒä½“ç³»æ¶æ„å’Œä½¿ç”¨æŒ‡å—       | ğŸ”´ MUST |
| 02   | [ç›®å½•ç»“æ„](02-directory-structure.md) | Monorepo é¡¹ç›®ç›®å½•ç»„ç»‡è§„èŒƒ    | ğŸ”´ MUST |
| 03   | [å‘½åè§„èŒƒ](03-naming-conventions.md)  | æ–‡ä»¶ã€ç±»ã€å‡½æ•°ã€å˜é‡å‘½åè§„åˆ™ | ğŸ”´ MUST |

### ğŸ’» ä»£ç è´¨é‡

| ç¼–å· | æ–‡æ¡£                                | æè¿°                              | çº§åˆ«      |
| ---- | ----------------------------------- | --------------------------------- | --------- |
| 04   | [ä»£ç é£æ ¼](04-code-style.md)        | TypeScript/Python ä»£ç è§„èŒƒ        | ğŸ”´ MUST   |
| 05   | [API è®¾è®¡](05-api-design.md)        | RESTful/GraphQL API è®¾è®¡è§„èŒƒ      | ğŸ”´ MUST   |
| 06   | [æ•°æ®åº“è®¾è®¡](06-database-design.md) | PostgreSQL/MongoDB/Neo4j è®¾è®¡è§„èŒƒ | ğŸŸ¡ SHOULD |
| 07   | [æµ‹è¯•è§„èŒƒ](07-testing-standards.md) | å•å…ƒ/é›†æˆ/E2E æµ‹è¯•è§„èŒƒ            | ğŸ”´ MUST   |

### ğŸ”„ æµç¨‹è§„èŒƒ

| ç¼–å· | æ–‡æ¡£                             | æè¿°                          | çº§åˆ«      |
| ---- | -------------------------------- | ----------------------------- | --------- |
| 08   | [Git å·¥ä½œæµ](08-git-workflow.md) | åˆ†æ”¯ç­–ç•¥ã€æäº¤è§„èŒƒã€PR æµç¨‹   | ğŸ”´ MUST   |
| 09   | [æ–‡æ¡£è§„èŒƒ](09-documentation.md)  | ä»£ç æ³¨é‡Šã€æŠ€æœ¯æ–‡æ¡£ã€CHANGELOG | ğŸ”´ MUST   |
| 10   | [å®‰å…¨è§„èŒƒ](10-security.md)       | å¯†é’¥ç®¡ç†ã€æ•°æ®å®‰å…¨ã€æ¼æ´é˜²æŠ¤  | ğŸ”´ MUST   |
| 11   | [éƒ¨ç½²è§„èŒƒ](11-deployment.md)     | CI/CDã€ç¯å¢ƒé…ç½®ã€ç›‘æ§å‘Šè­¦     | ğŸŸ¡ SHOULD |

### ğŸš€ å¿«é€Ÿå‚è€ƒ

| ç¼–å· | æ–‡æ¡£                              | æè¿°               |
| ---- | --------------------------------- | ------------------ |
| 99   | [å¿«é€Ÿå‚è€ƒ](99-quick-reference.md) | å¸¸ç”¨å‘½ä»¤å’Œæ£€æŸ¥æ¸…å• |

---

## æŠ€æœ¯æ ˆæ¦‚è§ˆ

DeepDive Engine æ˜¯ä¸€ä¸ª **Monorepo** é¡¹ç›®ï¼ŒåŒ…å«ä¸‰ä¸ªä¸»è¦æœåŠ¡ï¼š

### å‰ç«¯ (Frontend)

- **æ¡†æ¶ï¼š** Next.js 14, React 18, TypeScript
- **æ ·å¼ï¼š** TailwindCSS
- **çŠ¶æ€ç®¡ç†ï¼š** Zustand
- **æ•°æ®è·å–ï¼š** TanStack Query
- **å›¾è¡¨ï¼š** D3.js

### åç«¯ (Backend)

- **æ¡†æ¶ï¼š** NestJS, Node.js 20, TypeScript
- **APIï¼š** REST + GraphQL
- **ORMï¼š** Prisma
- **è®¤è¯ï¼š** JWT
- **æ•°æ®åº“ï¼š** PostgreSQL 16, MongoDB 7, Neo4j 5

### AI æœåŠ¡ (AI Service)

- **æ¡†æ¶ï¼š** FastAPI, Python 3.11
- **AI æä¾›å•†ï¼š** Grok API (é¦–é€‰), OpenAI GPT-4 (å¤‡ç”¨)
- **æ•°æ®å¤„ç†ï¼š** Pandas, NumPy
- **å‘é‡æ•°æ®åº“ï¼š** Qdrant

### æ•°æ®é‡‡é›† (Crawler)

- **è¯­è¨€ï¼š** TypeScript/Node.js
- **çˆ¬è™«ï¼š** Puppeteer, Cheerio
- **æ•°æ®æºï¼š** arXiv, GitHub, HackerNews

---

## è§„èŒƒçº§åˆ«è¯´æ˜

### ğŸ”´ MUSTï¼ˆå¿…é¡»éµå®ˆï¼‰

- è¿åä¼šå¯¼è‡´ä»£ç å®¡æŸ¥ä¸é€šè¿‡
- CI/CD è‡ªåŠ¨æ£€æŸ¥ä¼šå¤±è´¥
- å¿…é¡»åœ¨åˆå¹¶å‰ä¿®å¤

**ç¤ºä¾‹ï¼š**

- ä»£ç å¿…é¡»é€šè¿‡ ESLint/Pylint æ£€æŸ¥
- æµ‹è¯•è¦†ç›–ç‡å¿…é¡» > 85%
- æäº¤ä¿¡æ¯å¿…é¡»éµå¾ª Conventional Commits
- æ‰€æœ‰ API å¯†é’¥å¿…é¡»é€šè¿‡ SecretManager

### ğŸŸ¡ SHOULDï¼ˆå¼ºçƒˆå»ºè®®ï¼‰

- å»ºè®®éµå®ˆä»¥æé«˜ä»£ç è´¨é‡
- Code Review æ—¶ä¼šæé†’
- å¯ä»¥åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ä¾‹å¤–

**ç¤ºä¾‹ï¼š**

- å‡½æ•°åé•¿åº¦å»ºè®® 3-40 å­—ç¬¦
- æ³¨é‡Šåº”è¯¥è§£é‡Š"ä¸ºä»€ä¹ˆ"è€Œä¸æ˜¯"æ˜¯ä»€ä¹ˆ"
- PR æ”¹åŠ¨å»ºè®® < 500 è¡Œ

### ğŸŸ¢ MAYï¼ˆå¯é€‰ï¼‰

- æ ¹æ®å…·ä½“æƒ…å†µå†³å®š
- é¼“åŠ±ä½†ä¸å¼ºåˆ¶

**ç¤ºä¾‹ï¼š**

- å¯ä»¥ä½¿ç”¨æ›´é«˜çº§çš„ TypeScript ç‰¹æ€§
- å¯ä»¥æ·»åŠ æ€§èƒ½ä¼˜åŒ–æ³¨é‡Š

---

## å·¥å…·å’Œè‡ªåŠ¨åŒ–

### `.claude/tools/` - è‡ªåŠ¨åŒ–è„šæœ¬

| å·¥å…·                 | åŠŸèƒ½             | ä½¿ç”¨æ–¹å¼                                |
| -------------------- | ---------------- | --------------------------------------- |
| `check-all.sh`       | è¿è¡Œæ‰€æœ‰ä»£ç æ£€æŸ¥ | `bash .claude/tools/check-all.sh`       |
| `auto-fix.sh`        | è‡ªåŠ¨ä¿®å¤æ ¼å¼é—®é¢˜ | `bash .claude/tools/auto-fix.sh`        |
| `setup-standards.sh` | åˆå§‹åŒ–é¡¹ç›®è§„èŒƒ   | `bash .claude/tools/setup-standards.sh` |
| `validate-commit.sh` | éªŒè¯æäº¤ä¿¡æ¯æ ¼å¼ | `bash .claude/tools/validate-commit.sh` |

### `.claude/hooks/` - Git Hooks

| Hook         | åŠŸèƒ½                   |
| ------------ | ---------------------- |
| `pre-commit` | æäº¤å‰è‡ªåŠ¨æ ¼å¼åŒ–å’Œæ£€æŸ¥ |
| `commit-msg` | éªŒè¯æäº¤ä¿¡æ¯æ ¼å¼       |
| `pre-push`   | æ¨é€å‰è¿è¡Œæµ‹è¯•         |

**å®‰è£… Hooksï¼š**

```bash
bash .claude/hooks/install-hooks.sh
```

---

## å¿«é€Ÿå¼€å§‹

### 1. æ–°å¼€å‘è€…ä¸Šæ‰‹

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/JUNJIE-DUAN/deepdive-engine.git
cd deepdive-engine

# 2. å®‰è£… Git Hooks
bash .claude/hooks/install-hooks.sh

# 3. é˜…è¯»æ ¸å¿ƒè§„èŒƒ
cat .claude/standards/00-overview.md
cat .claude/standards/08-git-workflow.md
cat .claude/standards/03-naming-conventions.md

# 4. è¿è¡Œè‡ªåŠ¨æ£€æŸ¥
bash .claude/tools/check-all.sh
```

### 2. å¼€å‘æ–°åŠŸèƒ½

```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout develop
git pull origin develop
git checkout -b feature/001-add-feature

# 2. å¼€å‘ä»£ç 
# ... ç¼–å†™ä»£ç å’Œæµ‹è¯• ...

# 3. æäº¤å‰æ£€æŸ¥
bash .claude/tools/check-all.sh

# 4. æäº¤ä»£ç 
git commit -m "feat(module): add feature description"

# 5. æ¨é€å¹¶åˆ›å»º PR
git push origin feature/001-add-feature
```

### 3. Code Review æ£€æŸ¥æ¸…å•

- [ ] ä»£ç éµå¾ªå‘½åè§„èŒƒ ([03-naming-conventions.md](03-naming-conventions.md))
- [ ] ä»£ç é€šè¿‡æ‰€æœ‰è‡ªåŠ¨æ£€æŸ¥ (ESLint, Pylint, Prettier)
- [ ] æµ‹è¯•è¦†ç›–ç‡ > 85% ([07-testing-standards.md](07-testing-standards.md))
- [ ] æäº¤ä¿¡æ¯éµå¾ª Conventional Commits ([08-git-workflow.md](08-git-workflow.md))
- [ ] API å˜æ›´å·²æ›´æ–°æ–‡æ¡£ ([09-documentation.md](09-documentation.md))
- [ ] æ²¡æœ‰ç¡¬ç¼–ç çš„å¯†é’¥æˆ–æ•æ„Ÿä¿¡æ¯ ([10-security.md](10-security.md))
- [ ] PR æè¿°æ¸…æ™°ï¼ŒåŒ…å«æµ‹è¯•æ­¥éª¤

---

## å¸¸è§é—®é¢˜ FAQ

### Q1: å¦‚ä½•è¿è¡Œè‡ªåŠ¨æ£€æŸ¥ï¼Ÿ

```bash
# æ£€æŸ¥å‰ç«¯
cd frontend && npm run lint && npm run type-check

# æ£€æŸ¥åç«¯
cd backend && npm run lint && npm run test

# æ£€æŸ¥ AI æœåŠ¡
cd ai-service && pylint services/ && pytest --cov=services
```

### Q2: æäº¤ä¿¡æ¯æ ¼å¼æ˜¯ä»€ä¹ˆï¼Ÿ

```
<type>(<scope>): <subject>

<body>

<footer>
```

**ç¤ºä¾‹ï¼š**

```
feat(crawler): add arXiv paper crawler

- Implement RSS feed parser for arXiv
- Add deduplication based on paper ID
- Support filtering by category

Closes #123
```

è¯¦è§ï¼š[08-git-workflow.md](08-git-workflow.md)

### Q3: å¦‚ä½•æ·»åŠ æ–°çš„ API ç«¯ç‚¹ï¼Ÿ

1. åœ¨å¯¹åº”æ¨¡å—åˆ›å»º endpoint
2. ç¼–å†™ DTO/Schema validation
3. æ·»åŠ å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. æ›´æ–° API æ–‡æ¡£

è¯¦è§ï¼š[05-api-design.md](05-api-design.md)

### Q4: å¯†é’¥ç®¡ç†æ€ä¹ˆåšï¼Ÿ

- **å¼€å‘ç¯å¢ƒï¼š** `.env` æ–‡ä»¶ï¼ˆä¸æäº¤åˆ° Gitï¼‰
- **ç”Ÿäº§ç¯å¢ƒï¼š** GCP Secret Manager
- **ç¦æ­¢ï¼š** ç¡¬ç¼–ç å¯†é’¥åˆ°ä»£ç 

è¯¦è§ï¼š[10-security.md](10-security.md)

---

## å­¦ä¹ è·¯å¾„

### æ–°æ‰‹å¼€å‘è€…ï¼ˆ0-3 ä¸ªæœˆç»éªŒï¼‰

1. é˜…è¯» [00-overview.md](00-overview.md)
2. é˜…è¯» [03-naming-conventions.md](03-naming-conventions.md)
3. é˜…è¯» [08-git-workflow.md](08-git-workflow.md)
4. é˜…è¯» [99-quick-reference.md](99-quick-reference.md)
5. å¼€å§‹åšå°ä»»åŠ¡ï¼Œæ PRï¼Œæ¥å— Code Review

### ä¸­çº§å¼€å‘è€…ï¼ˆ3-12 ä¸ªæœˆç»éªŒï¼‰

1. æ·±å…¥å­¦ä¹  [04-code-style.md](04-code-style.md)
2. æ·±å…¥å­¦ä¹  [05-api-design.md](05-api-design.md)
3. æ·±å…¥å­¦ä¹  [07-testing-standards.md](07-testing-standards.md)
4. å¼€å§‹ Review åˆ«äººçš„ä»£ç 
5. å¼€å§‹è®¾è®¡å’Œå®ç°å¤æ‚åŠŸèƒ½

### é«˜çº§å¼€å‘è€…ï¼ˆ1 å¹´ä»¥ä¸Šç»éªŒï¼‰

1. æ·±å…¥å­¦ä¹  [06-database-design.md](06-database-design.md)
2. æ·±å…¥å­¦ä¹  [10-security.md](10-security.md)
3. æ·±å…¥å­¦ä¹  [11-deployment.md](11-deployment.md)
4. åˆ¶å®šæ¶æ„å†³ç­–
5. æŒ‡å¯¼å…¶ä»–å¼€å‘è€…

---

## è§„èŒƒæ›´æ–°æµç¨‹

### å¦‚ä½•æè®®è§„èŒƒå˜æ›´ï¼Ÿ

1. **åˆ›å»º Issue**

   ```
   æ ‡é¢˜ï¼š[STANDARD] Propose change to naming convention
   å†…å®¹ï¼šæè¿°é—®é¢˜å’Œå»ºè®®çš„æ”¹è¿›
   ```

2. **è®¨è®ºå’ŒæŠ•ç¥¨**
   - å›¢é˜Ÿæˆå‘˜è®¨è®º
   - è‡³å°‘ 2/3 æˆå‘˜åŒæ„

3. **æ›´æ–°æ–‡æ¡£**
   - åˆ›å»º PR æ›´æ–°å¯¹åº”è§„èŒƒæ–‡æ¡£
   - æ›´æ–°ç‰ˆæœ¬å·
   - æ›´æ–°"æ›´æ–°æ—¥æœŸ"

4. **é€šçŸ¥å›¢é˜Ÿ**
   - åœ¨å›¢é˜Ÿä¼šè®®ä¸Šå®£å¸ƒ
   - å‘é€é‚®ä»¶é€šçŸ¥æ‰€æœ‰æˆå‘˜

---

## è”ç³»å’Œåé¦ˆ

- **Issuesï¼š** [GitHub Issues](https://github.com/JUNJIE-DUAN/deepdive-engine/issues)
- **è®¨è®ºï¼š** åˆ›å»º Issue æ ‡ç­¾ä¸º `question` æˆ– `standard`
- **è´¡çŒ®ï¼š** å‚è€ƒ [CONTRIBUTING.md](../../docs/CONTRIBUTING.md)

---

**è®°ä½ï¼š** è§„èŒƒçš„ç›®çš„æ˜¯æé«˜æ•ˆç‡å’Œè´¨é‡ï¼Œè€Œä¸æ˜¯é™åˆ¶åˆ›é€ åŠ›ã€‚å¦‚æœè§„èŒƒé˜»ç¢äº†ä½ çš„å·¥ä½œï¼Œè¯·æå‡ºæ”¹è¿›å»ºè®®ï¼
