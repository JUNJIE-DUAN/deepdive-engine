#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# è®¾ç½®CIç¯å¢ƒå˜é‡ï¼Œä½¿æµ‹è¯•æ›´ç¨³å®š
export CI=true

# è¿è¡Œæµ‹è¯•ï¼Œå¸¦è¶…æ—¶ä¿æŠ¤
echo "ğŸ§ª Running tests before push..."
npm run test -- --run --reporter=verbose || {
  echo "âŒ Tests failed! Push aborted."
  echo "ğŸ’¡ Tip: Run 'npm run test' locally to debug"
  exit 1
}

echo "âœ… All tests passed!"
