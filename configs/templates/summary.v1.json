{
  "id": "summary.v1",
  "name": "生成综合摘要",
  "category": "summary",
  "version": 1,
  "description": "汇总所有资源的核心内容与要点",
  "schema": {
    "type": "object",
    "properties": {
      "overview": { "type": "string" },
      "keyPoints": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "title": { "type": "string" },
            "summary": { "type": "string" },
            "resourceIds": {
              "type": "array",
              "items": { "type": "string" }
            }
          },
          "required": ["title", "summary"]
        }
      },
      "recommendedActions": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "action": { "type": "string" },
            "rationale": { "type": "string" }
          },
          "required": ["action"]
        }
      }
    },
    "required": ["overview", "keyPoints"]
  },
  "promptConfig": {
    "extract": "请为每个资源生成简明摘要及核心要点。",
    "analysis": "整合这些摘要，总结共同主题、差异点，并给出可执行建议。",
    "generate": "使用 JSON 格式输出，必须符合 schema。",
    "validationHints": [
      "keyPoints 数组不能为空",
      "recommendedActions 缺失时应返回空数组而非省略字段"
    ],
    "failureRecovery": [
      { "type": "json_error", "prompt": "输出的 JSON 结构不正确，请严格按照 schema 返回。" }
    ]
  }
}
