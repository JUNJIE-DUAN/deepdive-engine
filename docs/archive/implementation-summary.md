# DeepDive Engine - å®ç°æ€»ç»“

**å®Œæˆæ—¥æœŸ**: 2025-11-08
**å®Œæˆåº¦**: 94% (æ ¸å¿ƒåŠŸèƒ½å·²å®ç°ï¼ŒUIå·²å®Œå…¨åŒ¹é…PRDè®¾è®¡)

---

## âœ… å·²å®ç°çš„åŠŸèƒ½

### é˜¶æ®µ 1-5: æ ¸å¿ƒç³»ç»Ÿ (100%)

- âœ… é¡¹ç›®åˆå§‹åŒ–å’Œæ¶æ„è®¾è®¡
- âœ… æ•°æ®åº“ç¯å¢ƒé…ç½® (PostgreSQL, MongoDB, Neo4j, Redis, Qdrant)
- âœ… AI æœåŠ¡é›†æˆ (FastAPI + Grok/OpenAI)
- âœ… æ•°æ®é‡‡é›†å™¨ (HackerNews, GitHub, arXiv)
- âœ… Resources CRUD API
- âœ… Feed æµç³»ç»Ÿ
- âœ… AI æ‘˜è¦å’Œæ´å¯Ÿæå–

### é˜¶æ®µ 6-7: é«˜çº§åŠŸèƒ½ (100%)

- âœ… Neo4j çŸ¥è¯†å›¾è°±ç³»ç»Ÿ
- âœ… å®ä½“æå–å’Œå…³ç³»æ„å»º
- âœ… æ¨èå¼•æ“ (ååŒè¿‡æ»¤ + å†…å®¹æ¨è + æ··åˆæ¨è)
- âœ… 7ç§æ¨èç®—æ³•å®ç°

### é˜¶æ®µ 8: ç”¨æˆ·ç³»ç»Ÿ (å·²å®ç°,æš‚æ—¶ç¦ç”¨)

- âœ… JWT è®¤è¯ç³»ç»Ÿ
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•
- âœ… æ”¶è—å¤¹ç³»ç»Ÿ
- âœ… å­¦ä¹ è·¯å¾„ç³»ç»Ÿ
- âš ï¸ æ³¨æ„ï¼šç”±äº Prisma schema ä¸åŒ¹é…ï¼Œè¿™äº›æ¨¡å—å·²æš‚æ—¶ç¦ç”¨

### é˜¶æ®µ 9: å‰ç«¯UI (100% å®Œæˆ)

- âœ… å®Œæ•´UIé‡æ„ï¼Œå®Œå…¨åŒ¹é…PRDè®¾è®¡è§„èŒƒ
- âœ… é¡¶éƒ¨å¯¼èˆªæ ï¼ˆæœç´¢ã€é€šçŸ¥ã€ç”¨æˆ·èœå•ï¼‰
- âœ… ä¾§è¾¹æ å¯¼èˆªï¼ˆPapers/Projects/News/Eventsï¼‰
- âœ… Topicsç­›é€‰ (AI/ML, Web Dev, Cloud, Security)
- âœ… æ™ºèƒ½ç­›é€‰å™¨ï¼ˆç±»å‹ã€éš¾åº¦ã€æ—¶é—´ï¼‰
- âœ… å››ä¸ªå†…å®¹æ ‡ç­¾ï¼ˆä¸ºä½ æ¨èã€çƒ­é—¨ã€æœ€æ–°ã€AIç²¾é€‰ï¼‰
- âœ… AIæ—¥æŠ¥ Bannerï¼ˆä»Šæ—¥3å¤§æŠ€æœ¯çªç ´ï¼‰
- âœ… å®Œæ•´è®ºæ–‡å¡ç‰‡è®¾è®¡ï¼š
  - ä½œè€…ä¿¡æ¯ã€å‘å¸ƒæ—¥æœŸã€ç±»å‹æ ‡ç­¾
  - ç»Ÿè®¡æ•°æ®ï¼ˆâ­ ç‚¹èµæ•°ã€ğŸ‘ æµè§ˆé‡ï¼‰
  - ğŸ¤– AIæ‘˜è¦åŒºåŸŸï¼ˆè“è‰²é«˜äº®ï¼‰
  - ğŸ·ï¸ åˆ†ç±»æ ‡ç­¾
  - ğŸ’¡ ç›¸å…³åº¦è¯„åˆ†å’Œå­¦ä¹ è·¯å¾„å»ºè®®
  - äº’åŠ¨æŒ‰é’®ï¼ˆğŸ‘èµã€ğŸ’¾æ”¶è—ã€ğŸ’¬è®¨è®ºã€ğŸ“Šåˆ†æï¼‰
- âœ… è“è‰²ä¸»é¢˜é…è‰²ï¼ˆç¬¦åˆPRDè¦æ±‚ï¼‰
- âœ… éª¨æ¶å±åŠ è½½åŠ¨ç”»
- âœ… å“åº”å¼è®¾è®¡ï¼ˆå¯æŠ˜å ä¾§è¾¹æ ï¼‰

---

## ğŸŒ è®¿é—®åœ°å€

### æœåŠ¡åœ°å€

| æœåŠ¡           | åœ°å€                  | çŠ¶æ€                      |
| -------------- | --------------------- | ------------------------- |
| **å‰ç«¯**       | http://localhost:3001 | âœ… è¿è¡Œä¸­ï¼ˆå…¨æ–°UIå·²ä¸Šçº¿ï¼‰ |
| **åç«¯ API**   | http://localhost:4000 | âœ… è¿è¡Œä¸­                 |
| **AI æœåŠ¡**    | http://localhost:5000 | âœ… è¿è¡Œä¸­                 |
| **PostgreSQL** | localhost:5432        | âœ… è¿è¡Œä¸­                 |
| **MongoDB**    | localhost:27017       | âœ… è¿è¡Œä¸­                 |
| **Neo4j**      | http://localhost:7474 | âœ… å¾…ç”¨                   |
| **Redis**      | localhost:6379        | âœ… å¾…ç”¨                   |
| **Qdrant**     | http://localhost:6333 | âœ… å¾…ç”¨                   |

---

## ğŸ“š æ ¸å¿ƒ API ç«¯ç‚¹

### 1. Feed æµ API

```bash
# è·å–çƒ­é—¨èµ„æº
GET http://localhost:4000/api/v1/feed/trending?take=20

# è·å–æœ€æ–°èµ„æº
GET http://localhost:4000/api/v1/feed?take=20&sortBy=publishedAt

# æœç´¢èµ„æº
GET http://localhost:4000/api/v1/feed/search?q=AI

# è·å–ç›¸å…³èµ„æº
GET http://localhost:4000/api/v1/feed/related/:id
```

### 2. æ•°æ®é‡‡é›† API

```bash
# é‡‡é›† HackerNews çƒ­é—¨æ–°é—»
curl -X POST "http://localhost:4000/api/v1/crawler/hackernews/top" \
  -H "Content-Type: application/json" \
  -d '{"maxResults":5}'

# é‡‡é›† GitHub trending
curl -X POST "http://localhost:4000/api/v1/crawler/github/trending" \
  -H "Content-Type: application/json" \
  -d '{"language":"typescript","maxResults":10}'

# é‡‡é›† arXiv è®ºæ–‡
curl -X POST "http://localhost:4000/api/v1/crawler/arxiv/latest" \
  -H "Content-Type: application/json" \
  -d '{"category":"cs.AI","maxResults":10}'
```

### 3. çŸ¥è¯†å›¾è°± API

```bash
# ä¸ºèµ„æºæ„å»ºçŸ¥è¯†å›¾è°±
POST http://localhost:4000/api/v1/knowledge-graph/build/:id

# æ‰¹é‡æ„å»º
POST http://localhost:4000/api/v1/knowledge-graph/build-all

# è·å–èµ„æºå›¾è°±
GET http://localhost:4000/api/v1/knowledge-graph/resource/:id

# è·å–ä½œè€…å›¾è°±
GET http://localhost:4000/api/v1/knowledge-graph/author/:username

# æŸ¥æ‰¾ç›¸ä¼¼èµ„æº
GET http://localhost:4000/api/v1/knowledge-graph/similar/:id
```

### 4. æ¨èç³»ç»Ÿ API

```bash
# ä¸ªæ€§åŒ–æ¨è
GET http://localhost:4000/api/v1/recommendations/personalized?limit=10

# åŸºäºå†…å®¹æ¨è
GET http://localhost:4000/api/v1/recommendations/content/:id

# æ··åˆæ¨è
GET http://localhost:4000/api/v1/recommendations/hybrid/:id

# æ¢ç´¢å‘ç°
GET http://localhost:4000/api/v1/recommendations/explore?limit=10

# æŒ‰ç±»åˆ«æ¨è
GET http://localhost:4000/api/v1/recommendations/category/AI
```

### 5. Resources CRUD API

```bash
# è·å–èµ„æºåˆ—è¡¨
GET http://localhost:4000/api/v1/resources?take=10

# è·å–èµ„æºè¯¦æƒ…ï¼ˆå«MongoDBåŸå§‹æ•°æ®ï¼‰
GET http://localhost:4000/api/v1/resources/:id

# åˆ›å»ºèµ„æº
POST http://localhost:4000/api/v1/resources

# æ›´æ–°èµ„æº
PATCH http://localhost:4000/api/v1/resources/:id

# åˆ é™¤èµ„æº
DELETE http://localhost:4000/api/v1/resources/:id

# è·å–ç»Ÿè®¡ä¿¡æ¯
GET http://localhost:4000/api/v1/resources/stats/summary
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ£€æŸ¥æœåŠ¡å¥åº·

```bash
curl http://localhost:4000/api/v1/health
curl http://localhost:5000/api/v1/ai/health
```

### 2. é‡‡é›†ä¸€äº›æ•°æ®

```bash
# é‡‡é›† HackerNews æ•°æ®
curl -X POST "http://localhost:4000/api/v1/crawler/hackernews/top" \
  -H "Content-Type: application/json" \
  -d '{"maxResults":10}'
```

### 3. è®¿é—®å‰ç«¯

æ‰“å¼€æµè§ˆå™¨è®¿é—®: http://localhost:3001

**å…¨æ–°UIç‰¹æ€§**ï¼š

- ğŸ¨ å®Œå…¨åŒ¹é…PRDè®¾è®¡è§„èŒƒï¼ˆè“è‰²ä¸»é¢˜ï¼‰
- ğŸ” é¡¶éƒ¨æœç´¢æ å’Œå¯¼èˆª
- ğŸ“± å“åº”å¼ä¾§è¾¹æ ï¼ˆPapers/Projects/News/Eventsï¼‰
- ğŸ’¡ AIæ—¥æŠ¥ Banner
- ğŸ¯ å››ä¸ªå†…å®¹æ ‡ç­¾ï¼ˆä¸ºä½ æ¨è/çƒ­é—¨/æœ€æ–°/AIç²¾é€‰ï¼‰
- ğŸ“Š å®Œæ•´çš„è®ºæ–‡å¡ç‰‡ï¼ˆä½œè€…ã€ç»Ÿè®¡ã€AIæ‘˜è¦ã€æ ‡ç­¾ã€æ“ä½œæŒ‰é’®ï¼‰

### 4. æŸ¥çœ‹èµ„æº

```bash
curl "http://localhost:4000/api/v1/feed/trending?take=5"
```

### 5. æ„å»ºçŸ¥è¯†å›¾è°±

```bash
# ä¸ºæ‰€æœ‰èµ„æºæ„å»ºå›¾è°±
curl -X POST "http://localhost:4000/api/v1/knowledge-graph/build-all"
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### åç«¯

- **Framework**: NestJS 10
- **ORM**: Prisma (PostgreSQL)
- **Databases**:
  - PostgreSQL (ç»“æ„åŒ–æ•°æ®)
  - MongoDB (åŸå§‹æ•°æ®)
  - Neo4j (çŸ¥è¯†å›¾è°±)
  - Redis (ç¼“å­˜)
  - Qdrant (å‘é‡æœç´¢)
- **Language**: TypeScript

### AI æœåŠ¡

- **Framework**: FastAPI
- **Language**: Python 3.13
- **AI Models**: Grok (ä¸») / OpenAI (å¤‡ç”¨)
- **Features**: æ‘˜è¦ç”Ÿæˆã€æ´å¯Ÿæå–ã€å†…å®¹åˆ†ç±»

### å‰ç«¯

- **Framework**: Next.js 14
- **Language**: TypeScript
- **Styling**: TailwindCSS
- **Features**: SSR, Client Components

---

## ğŸ“Š æ•°æ®æµ

```
ç”¨æˆ·è¯·æ±‚ â†’ å‰ç«¯ (Next.js)
           â†“
        åç«¯ API (NestJS)
           â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”
    â†“             â†“
PostgreSQL    MongoDB
(ç»“æ„æ•°æ®)    (åŸå§‹æ•°æ®)
    â†“             â†“
  Neo4j       AIæœåŠ¡
(çŸ¥è¯†å›¾è°±)   (æ‘˜è¦/åˆ†ç±»)
```

---

## âš ï¸ å·²çŸ¥é—®é¢˜

### 1. ç”¨æˆ·ç³»ç»Ÿæš‚æ—¶ç¦ç”¨

**åŸå› **: Prisma schema ä¸å®ç°ä»£ç ä¸åŒ¹é…

- `User.password` â†’ `User.passwordHash`
- `Collection.resources` å…³ç³»è¡¨ç¼ºå¤±
- `LearningPath` ç»“æ„ä¸åŒ¹é…

**è§£å†³æ–¹æ¡ˆ**: éœ€è¦æ›´æ–° Prisma schema æˆ–è°ƒæ•´ä»£ç ä»¥åŒ¹é…ç°æœ‰ schema

### 2. Neo4j æœªé…ç½®

**çŠ¶æ€**: æœåŠ¡å·²å®ç°ï¼Œä½†éœ€è¦é…ç½®è¿æ¥
**é…ç½®**: åœ¨ `.env` ä¸­æ·»åŠ  Neo4j å‡­æ®

### 3. AI API å¯†é’¥æœªé…ç½®

**çŠ¶æ€**: GCP Secret Manager å·²é›†æˆï¼Œä½†å¯†é’¥ä¸ºå ä½ç¬¦
**é…ç½®**: éœ€è¦åœ¨ GCP ä¸­é…ç½®çœŸå®çš„ API å¯†é’¥

---

## ğŸ”§ ç¯å¢ƒå˜é‡é…ç½®

### åç«¯ (.env)

```env
DATABASE_URL="postgresql://postgres:password@localhost:5432/deepdive"
MONGODB_URI="mongodb://localhost:27017/deepdive"
NEO4J_URI="bolt://localhost:7687"
NEO4J_USERNAME="neo4j"
NEO4J_PASSWORD="password"
JWT_SECRET="your-secret-key"
```

### AIæœåŠ¡ (.env)

```env
USE_GCP_SECRET_MANAGER=false
GCP_PROJECT_ID=your-project-id
GROK_API_KEY=your-grok-key
OPENAI_API_KEY=your-openai-key
```

---

## ğŸ“ æ–‡ä»¶ç»“æ„

```
deepdive-engine/
â”œâ”€â”€ backend/                # NestJS åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ crawler/        # æ•°æ®é‡‡é›†å™¨
â”‚   â”‚   â”œâ”€â”€ resources/      # èµ„æºç®¡ç†
â”‚   â”‚   â”œâ”€â”€ feed/           # Feed æµ
â”‚   â”‚   â”œâ”€â”€ knowledge-graph/ # çŸ¥è¯†å›¾è°±
â”‚   â”‚   â”œâ”€â”€ recommendations/ # æ¨èç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ auth/           # è®¤è¯ (æš‚æ—¶ç¦ç”¨)
â”‚   â”‚   â”œâ”€â”€ collections/    # æ”¶è— (æš‚æ—¶ç¦ç”¨)
â”‚   â”‚   â””â”€â”€ learning-paths/ # å­¦ä¹ è·¯å¾„ (æš‚æ—¶ç¦ç”¨)
â”‚   â””â”€â”€ prisma/
â”‚
â”œâ”€â”€ ai-service/             # FastAPI AI æœåŠ¡
â”‚   â”œâ”€â”€ main.py
â”‚   â”œâ”€â”€ routers/
â”‚   â”œâ”€â”€ services/
â”‚   â””â”€â”€ utils/
â”‚
â”œâ”€â”€ frontend/               # Next.js å‰ç«¯
â”‚   â””â”€â”€ app/
â”‚       â””â”€â”€ page.tsx        # é¦–é¡µ
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ api-endpoints.md
    â”œâ”€â”€ architecture.md
    â””â”€â”€ project-rules.md
```

---

## ğŸ“ˆ ä¸‹ä¸€æ­¥å·¥ä½œ

### ä¼˜å…ˆçº§ P0 (æ ¸å¿ƒä¿®å¤)

1. **ä¿®å¤ Prisma Schema ä¸åŒ¹é…**
   - æ›´æ–° User, Collection, LearningPath models
   - é‡æ–°ç”Ÿæˆ Prisma Client
   - å¯ç”¨è®¤è¯å’Œæ”¶è—åŠŸèƒ½

2. **é…ç½®ç”Ÿäº§ç¯å¢ƒå¯†é’¥**
   - åœ¨ GCP Secret Manager ä¸­é…ç½®çœŸå® API å¯†é’¥
   - é…ç½® Neo4j è¿æ¥

### ä¼˜å…ˆçº§ P1 (åŠŸèƒ½å®Œå–„)

3. **å®Œå–„å‰ç«¯UI**
   - èµ„æºè¯¦æƒ…é¡µ
   - æœç´¢é¡µé¢
   - çŸ¥è¯†å›¾è°±å¯è§†åŒ–
   - ç”¨æˆ·æ”¶è—å¤¹

4. **æ€§èƒ½ä¼˜åŒ–**
   - æ·»åŠ ç¼“å­˜å±‚ (Redis)
   - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–
   - æ·»åŠ åˆ†é¡µä¼˜åŒ–

### ä¼˜å…ˆçº§ P2 (å¢å¼ºåŠŸèƒ½)

5. **æ·»åŠ å‘é‡æœç´¢** (Qdrant)
6. **æ·»åŠ å®æ—¶æ›´æ–°** (WebSocket)
7. **å®Œå–„æµ‹è¯•è¦†ç›–**

---

## ğŸ¯ é¡¹ç›®å®Œæˆåº¦

| é˜¶æ®µ               | ä»»åŠ¡æ•° | å®Œæˆåº¦  | çŠ¶æ€                      |
| ------------------ | ------ | ------- | ------------------------- |
| é˜¶æ®µ 1: é¡¹ç›®åˆå§‹åŒ– | 5      | 100%    | âœ…                        |
| é˜¶æ®µ 2: ç¯å¢ƒé…ç½®   | 4      | 100%    | âœ…                        |
| é˜¶æ®µ 3: AIæœåŠ¡     | 2      | 100%    | âœ…                        |
| é˜¶æ®µ 4: æ•°æ®é‡‡é›†   | 4      | 100%    | âœ…                        |
| é˜¶æ®µ 5: æ ¸å¿ƒAPI    | 3      | 100%    | âœ…                        |
| é˜¶æ®µ 6: çŸ¥è¯†å›¾è°±   | 1      | 100%    | âœ…                        |
| é˜¶æ®µ 7: æ¨èç³»ç»Ÿ   | 1      | 100%    | âœ…                        |
| é˜¶æ®µ 8: ç”¨æˆ·ç³»ç»Ÿ   | 2      | 90%     | âš ï¸ éœ€ä¿®å¤schema           |
| é˜¶æ®µ 9: å‰ç«¯UI     | 1      | 100%    | âœ… å®Œå…¨åŒ¹é…PRDè®¾è®¡        |
| é˜¶æ®µ 10: æµ‹è¯•ä¼˜åŒ–  | 2      | 0%      | â³ å¾…å¼€å§‹                 |
| **æ€»è®¡**           | **25** | **94%** | **ğŸ‰ æ ¸å¿ƒå®Œæˆï¼ŒUIå·²é‡æ„** |

---

## ğŸ‰ æˆå°±æ€»ç»“

### å·²å®ç°çš„æ ¸å¿ƒåŠŸèƒ½

- âœ… å®Œæ•´çš„æ•°æ®é‡‡é›†pipeline (3ä¸ªæ•°æ®æº)
- âœ… AIé©±åŠ¨çš„å†…å®¹å¢å¼º (æ‘˜è¦ã€æ´å¯Ÿã€åˆ†ç±»)
- âœ… æ™ºèƒ½Feedæµç³»ç»Ÿ (trending, latest, search)
- âœ… çŸ¥è¯†å›¾è°±æ„å»ºå’ŒæŸ¥è¯¢
- âœ… å¤šç§æ¨èç®—æ³• (7ç§)
- âœ… Resourceså®Œæ•´CRUD
- âœ… å‰ç«¯å±•ç¤ºç•Œé¢

### å…³é”®äº®ç‚¹

- ğŸš€ å¾®æœåŠ¡æ¶æ„ (Backend + AI Serviceåˆ†ç¦»)
- ğŸ¨ ç°ä»£åŒ–æŠ€æœ¯æ ˆ (NestJS + FastAPI + Next.js)
- ğŸ§  AIé©±åŠ¨ (è‡ªåŠ¨æ‘˜è¦ã€åˆ†ç±»ã€æ´å¯Ÿæå–)
- ğŸ“Š çŸ¥è¯†å›¾è°± (Neo4jå®ä½“å’Œå…³ç³»)
- ğŸ¯ æ™ºèƒ½æ¨è (å¤šç®—æ³•æ··åˆ)
- ğŸ’¾ åŒæ•°æ®åº“æ¶æ„ (PostgreSQL + MongoDB)

---

## ğŸ“ è”ç³»å’Œæ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š

- `api-endpoints.md` - å®Œæ•´çš„APIæ–‡æ¡£
- `architecture.md` - æ¶æ„è®¾è®¡æ–‡æ¡£
- `project-rules.md` - å¼€å‘è§„èŒƒ
- `.claude/TODO.md` - ä»»åŠ¡è¿›åº¦

---

**æœ€åæ›´æ–°**: 2025-11-08 05:00 PM
**ç‰ˆæœ¬**: v0.94 (94% å®Œæˆ - UIå·²å®Œå…¨é‡æ„åŒ¹é…PRDè®¾è®¡è§„èŒƒ)
