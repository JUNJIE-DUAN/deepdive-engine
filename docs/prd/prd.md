# DeepDive Engine - 产品需求文档

> **版本**: v2.0
> **核心定位**: AI驱动的知识发现引擎
> **参考设计**: https://www.alphaxiv.org/
> **创建日期**: 2025-11-07

---

## 产品愿景

### 核心定位

**DeepDive Engine** 是一个 **AI驱动的知识发现引擎**，而非简单的内容聚合平台。

**Slogan**: "从信息到洞察，AI重构你的知识探索之旅"

**核心差异化**:

- 传统平台：展示内容列表 → **DeepDive**: 构建知识网络
- 传统平台：基于标签推荐 → **DeepDive**: 理解认知图谱
- 传统平台：人工筛选信息 → **DeepDive**: AI生成洞察
- 传统平台：被动消费内容 → **DeepDive**: 主动发现知识

### 解决的核心问题

1. **信息过载，缺乏洞察**
   - 每天arXiv 500+篇论文，GitHub数千新项目
   - 用户痛点：花2小时刷信息，不知哪些真正重要
   - DeepDive方案：AI识别突破性内容，生成趋势报告

2. **知识碎片化，难以体系化**
   - 论文/项目/资讯各自孤立
   - 用户痛点：看了很多但没有形成系统认知
   - DeepDive方案：自动关联构建知识图谱，生成学习路径

3. **推荐不精准，浪费时间**
   - 基于标签的推荐太粗糙
   - 用户痛点：推荐内容要么太简单要么太难
   - DeepDive方案：理解用户知识边界，难度适配推荐

### 目标用户

| 用户类型   | 占比 | 核心需求                   |
| ---------- | ---- | -------------------------- |
| 学术研究者 | 30%  | 发现研究机会，追踪相关工作 |
| 工程师     | 40%  | 技术选型，学习新技术       |
| 技术管理者 | 20%  | 把握技术趋势               |
| 学习者     | 10%  | 构建知识体系               |

---

## 核心功能

### 1. 智能发现 (Intelligent Discovery)

#### 1.1 个性化Feed

- 不只是基于标签，而是基于**知识图谱画像**
- 推荐分布：30% 舒适区 + 50% 学习区 + 20% 探索区
- 智能平衡探索与利用

#### 1.2 AI日报

- 每日3-5个最重要技术突破
- AI解释"为什么重要"
- 关联到用户的知识图谱

#### 1.3 知识盲区发现

- AI主动推荐"你应该知道的知识盲区"
- 基于知识图谱的完整性分析

### 2. 知识管理 (Knowledge Management)

#### 2.1 个人知识图谱

- 自动构建用户的知识网络
- 节点：概念、论文、项目、技术、人物
- 边：基于、实现、改进、应用等关系
- 可视化浏览，交互式探索

#### 2.2 智能收藏

- AI自动分类整理
- 语义搜索（理解意图而非关键词）
- 智能复习提醒（遗忘曲线）

#### 2.3 笔记与标注

- 高亮自动关联知识图谱
- AI笔记助手（解释复杂概念）
- 跨内容关联

### 3. 学习辅助 (Learning Assistant)

#### 3.1 AI学习路径

- 输入目标 → AI生成完整学习路线
- 基于用户现有知识图谱定制
- 难度递进，动态调整

#### 3.2 难度适配

- AI评估内容难度（1-10）
- 匹配用户当前水平
- 推荐"刚好够得着"的内容

#### 3.3 进度追踪

- 可视化学习仪表盘
- 知识图谱增长曲线
- 学习效率分析

### 4. 洞察生成 (Insight Generation)

#### 4.1 AI趋势报告

- 每周自动生成技术趋势分析
- Top 5热点技术 + 成熟度分析
- AI预测未来3个月爆发方向

#### 4.2 技术对比

- 用户输入"对比React vs Vue"
- AI生成多维度对比报告
- 包含性能、生态、适用场景、趋势预测

#### 4.3 研究空白发现

- AI分析知识图谱稀疏连接区域
- 识别有潜力的研究方向
- 竞争分析 + 切入点建议

#### 4.4 多素材综合报告

**功能描述**:

- 用户选择2-10份素材（论文/项目/新闻）
- AI自动分析并生成综合报告
- 支持多种报告模板（对比分析/趋势总结/技术演进）

**典型场景**:

1. **技术对比**: 选择3篇Transformer论文 → AI生成"模型架构演进报告"
2. **趋势分析**: 选择10篇最近AI论文 → AI生成"本月AI研究趋势"
3. **学习路径**: 选择5个由浅入深的项目 → AI生成"学习路线图"

**报告模板**:

- 📊 **对比分析**: 多维度对比（性能/复杂度/适用场景）
- 📈 **趋势报告**: 时间轴 + 技术演进 + 未来预测
- 🎯 **综合评估**: 优劣势分析 + 选型建议
- 🗺️ **学习路径**: 知识依赖图 + 学习顺序建议
- 📝 **文献综述**: 学术风格的Literature Review

**交互流程**:

```
用户浏览Feed/Library →
  多选模式（checkbox） →
    选择2-10项 →
      点击"生成报告" →
        选择报告模板 →
          AI生成（30-60s）→
            预览/编辑/导出（Markdown/PDF）
```

**技术要点**:

- 内容聚合：提取所有素材的关键信息（标题/摘要/关键词）
- AI分析：使用GPT-4（复杂推理）或Grok（快速生成）
- 模板引擎：结构化输出格式
- 报告存储：保存到用户Library，可重新生成

---

## 界面设计（参考AlphaXiv）

### 整体布局

```
┌─────────────────────────────────────────────────────────┐
│  [Logo] DeepDive   🔍 搜索...           🔔 通知  👤     │
├──────────┬──────────────────────────────────────────────┤
│          │  [为你推荐] [热门] [最新] [AI精选]           │
│          ├──────────────────────────────────────────────┤
│ 侧边导航  │  ╔════════════════════════════════════════╗ │
│          │  ║ 💡 AI日报 - 今日3大技术突破            ║ │
│ 📄Papers │  ╠════════════════════════════════════════╣ │
│ 💻Project│  ║ 1. Mixtral 8x7B: MoE效率突破           ║ │
│ 📰News   │  ║    为什么重要: 成本降低80%...          ║ │
│ 🎯Events │  ║ 2. ...                                 ║ │
│          │  ╚════════════════════════════════════════╝ │
│ ───────  │                                              │
│ 🏷️Topics│  ┌──────────────────────────────────────┐   │
│  AI/ML   │  │ 🔥 论文卡片                          │   │
│  Web Dev │  │ Attention Is All You Need            │   │
│  Cloud   │  │ 👤 Vaswani et al.                    │   │
│          │  │ 📅 2017  ⭐ 456  💬 89  👁 2.3k      │   │
│ 🎚️筛选  │  │ 🤖 AI摘要: 提出Transformer架构...    │   │
│ [类型]   │  │ 🏷️ #Transformer #NLP                │   │
│ [难度]   │  │ 💡 相关度: 95% 建议加入学习路径      │   │
│ [时间]   │  │ [👍] [💾Save] [💬] [📊分析]         │   │
│          │  └──────────────────────────────────────┘   │
└──────────┴──────────────────────────────────────────────┘
```

### 设计原则

1. **参考AlphaXiv的清晰设计**
   - 侧边栏导航
   - 卡片式内容展示
   - 简洁的配色（蓝色主题）

2. **AI能力可见但不打扰**
   - AI日报置顶
   - 每个卡片显示AI摘要和相关度
   - 可选择性使用AI功能

3. **响应式设计**
   - Desktop: 三栏布局（侧边栏 + 内容 + 可选的知识图谱）
   - Tablet: 可折叠侧边栏
   - Mobile: 单栏 + 底部导航

---

## 技术架构

### 技术栈

**前端**:

- Next.js 14+ (React 18+)
- TypeScript
- TailwindCSS（参考AlphaXiv的样式）
- Zustand（状态管理）
- D3.js（知识图谱可视化）

**后端**:

- Node.js + NestJS
- GraphQL + REST API
- PostgreSQL（主数据库）
- Neo4j（知识图谱）
- Qdrant（向量数据库）
- Redis（缓存）

**AI服务**:

- **首选: Grok API**（来自x.AI）
- **备用: OpenAI API**（GPT-4）
- Embedding: sentence-transformers
- 密钥管理: secretManager

**数据源**:

- arXiv API
- GitHub API
- HackerNews API
- RSS聚合

### 系统架构

```
前端 (Next.js)
    ↓
API Gateway
    ↓
应用服务层
├─ Auth Service
├─ Content Service
├─ Recommendation Service
├─ Knowledge Graph Service
└─ AI Service (Grok优先)
    ↓
数据层
├─ PostgreSQL (用户、内容)
├─ Neo4j (知识图谱)
├─ Qdrant (向量)
└─ Redis (缓存)
    ↓
数据采集层
├─ arXiv Crawler
├─ GitHub Crawler
└─ News Aggregator
```

### 核心算法

#### 知识图谱推荐

```python
def recommend_with_kg(user_id):
    # 1. 获取用户知识图谱
    user_kg = get_user_knowledge_graph(user_id)

    # 2. 找到认知边界节点
    boundary = user_kg.get_boundary_nodes()

    # 3. 从边界出发，游走N步收集候选
    candidates = graph_walk(boundary, max_depth=3)

    # 4. 综合评分
    for content in candidates:
        score = (
            0.3 * kg_distance(user_kg, content) +
            0.25 * boundary_distance(user_kg, content) +
            0.2 * quality_score(content) +
            0.15 * freshness(content) +
            0.1 * difficulty_match(user_kg, content)
        )

    # 5. 排序 + 多样性调整
    return diversify(sorted(candidates, key=score))
```

---

## 商业模式

### 定价策略

| 版本           | 价格      | 核心功能                                 |
| -------------- | --------- | ---------------------------------------- |
| **Free**       | $0        | 基础浏览，每日50条推荐，AI摘要(有水印)   |
| **Pro**        | $9.9/月   | 无限访问，完整AI能力，学习路径，趋势报告 |
| **Team**       | $29/月/人 | Pro + 团队协作，共享知识图谱             |
| **Enterprise** | 定制      | Team + 私有部署，定制AI                  |

### 增长策略

**MVP阶段（0-3个月）**:

- 目标：100个种子用户
- 渠道：Reddit, HackerNews, 学术社区
- 策略：免费使用，深度反馈

**增长期（3-6个月）**:

- 目标：5,000 DAU
- 渠道：用户推荐，Product Hunt，技术博主
- 策略：Freemium，推出Pro功能

**商业化（6-12个月）**:

- 目标：50,000 DAU，10,000付费用户
- ARR目标：$1.2M
- 策略：团队版BD，企业定制

---

## 实施路线图

### MVP开发（3个月）

**Month 1: 基础设施 + 数据采集**

- Week 1-2: 项目初始化，数据库设计
- Week 3-4: 数据采集器（arXiv, GitHub, HN）
- 目标：每日采集500+条内容

**Month 2: 核心功能 + AI集成**

- Week 5-6: Feed展示，搜索，收藏
- Week 7-8: Grok/OpenAI集成，AI摘要，向量搜索
- 目标：90%内容有AI摘要

**Month 3: 知识图谱 + 发布**

- Week 9-10: Neo4j图谱构建，可视化
- Week 11: 性能优化，UI打磨
- Week 12: Beta发布，种子用户
- 目标：D7留存>35%, NPS>40

### 增强功能（Month 4-6）

- Month 4: 个性化推荐（知识图谱）
- Month 5: 学习路径生成
- Month 6: 趋势报告，技术对比

### 商业化（Month 7-12）

- Month 7-8: 付费系统
- Month 9-10: 团队版
- Month 11-12: 移动App，国际化

---

## 关键指标

| 指标       | MVP目标 | 6个月目标 | 12个月目标 |
| ---------- | ------- | --------- | ---------- |
| DAU        | 50      | 5,000     | 50,000     |
| D7留存     | 35%     | 40%       | 45%        |
| 推荐CTR    | 25%     | 35%       | 40%        |
| 付费转化率 | -       | 5%        | 8%         |
| 付费用户   | -       | 250       | 10,000     |
| ARR        | -       | $30k      | $1.2M      |
| NPS        | 40      | 50        | 60         |

---

## 附录

### 数据源

- **学术论文**: arXiv, Semantic Scholar
- **开源项目**: GitHub Trending/Search
- **技术新闻**: HackerNews, TechCrunch, Ars Technica
- **大厂动态**: OpenAI Blog, Google AI Blog, DeepMind
- **技术博客**: Medium, Dev.to

### 参考竞品

- AlphaXiv: https://www.alphaxiv.org/
- Semantic Scholar: https://www.semanticscholar.org/
- Papers with Code: https://paperswithcode.com/

### AI配置

**主要AI提供商**:

1. **Grok（首选）**: x.AI的LLM，速度快，成本优
2. **OpenAI（备用）**: GPT-4，质量高但成本高

**密钥管理**:

- 所有API密钥存储在secretManager
- 环境变量配置：
  ```
  GROK_API_KEY=<from secretManager>
  OPENAI_API_KEY=<from secretManager>
  ```

**AI使用分级**:

- Grok: 摘要生成，概念抽取，日常任务
- GPT-4: 深度分析，趋势报告，复杂推理

---

**文档版本**: v2.0
**最后更新**: 2025-11-07
**下一步**: 创建详细任务清单并开始实施
