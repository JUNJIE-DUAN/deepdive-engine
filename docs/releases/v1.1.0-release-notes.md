# DeepDive v1.1.0 发布说明

**发布日期**: 2025年11月26日

---

## 新功能亮点

### 1. AI 互联网访问能力

所有 AI 模型现在都具备访问互联网的能力：

- **URL 内容获取**: AI 可以读取消息中的链接内容，无需您手动复制粘贴
- **自动网络搜索**: 当检测到搜索意图时，AI 会自动通过 DuckDuckGo 搜索最新信息
- **搜索触发关键词**: 搜索、查找、最新、新闻、今天、热点、trending、latest 等

**使用示例**:

```
"帮我搜索一下最新的AI发展趋势"
"查找今天的科技新闻"
"请访问 https://example.com 并总结内容"
```

### 2. Grok X/Twitter 实时搜索

Grok 模型现在支持实时搜索 X (Twitter) 平台内容：

- 获取最新推文和热点话题
- 搜索特定用户或话题的讨论
- 自动返回信息来源引用

### 3. 聊天体验优化

#### 虚拟滚动技术

- 使用 @tanstack/react-virtual 实现高性能虚拟滚动
- 即使有大量消息也能保持流畅体验
- 消息窗口限制为最近 200 条，防止内存溢出

#### 长消息折叠

- 超过 5 行的消息自动折叠
- 点击"展开"查看完整内容
- 点击"收起"折叠回简洁视图

### 4. AI 图像生成增强

#### Gemini 图像生成

- 支持通过 Gemini 2.0 Flash 生成图像
- 自动检测图像生成请求（关键词：生成图、画图、infographic 等）
- 图像以 base64 格式内嵌显示，支持一键下载

#### DALL-E 3 集成

- OpenAI 用户可使用 DALL-E 3 生成高质量图像
- 支持信息图、流程图、示意图等多种类型

---

## 技术改进

### 性能优化

- 前端虚拟滚动减少 DOM 节点，提升渲染性能
- 消息组件使用 React.memo 避免不必要的重渲染
- 服务端 URL 内容获取，减轻客户端负担

### 兼容性修复

- 修复 Gemini 实验性模型 (thinking/preview) 的兼容性问题
- 修复 OpenAI 新模型 (gpt-4o, o1, o3) 的 token 参数问题
- 修复图像数据在聊天窗口的显示问题

### 稳定性提升

- AI 响应超时保护（2分钟超时）
- WebSocket 消息广播优化
- 错误处理和日志记录增强

---

## 升级说明

本版本为平滑升级，无需额外配置。系统会自动应用所有优化。

如需使用新功能：

1. **AI 搜索**: 直接在对话中使用搜索关键词
2. **图像生成**: 使用"画图"、"生成图"等关键词触发
3. **Grok X搜索**: 配置 xAI API Key 后自动启用

---

## 已知问题

- Gemini 图像生成正在调试中，部分情况下可能显示为空（修复中）

---

## 下一版本预告

- 多文件分析功能
- 更多 AI 模型支持
- 移动端体验优化

---

如有任何问题或反馈，请联系技术支持团队。

感谢您使用 DeepDive！
